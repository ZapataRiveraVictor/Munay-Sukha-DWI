<div class="bienestar-container">

    <div class="header-section">
        <h1>Tu Bienestar Munay</h1>
        <p>Calcula tu √çndice de Masa Corporal (IMC) y recibe recomendaciones personalizadas de nuestros expertos.</p>
    </div>

    <div class="calculator-card">
        <div class="input-group">
            <label>Tu Peso (kg)</label>
            <input type="number" [(ngModel)]="peso" placeholder="Ej: 70">
        </div>

        <div class="input-group">
            <label>Tu Altura (cm)</label>
            <input type="number" [(ngModel)]="altura" placeholder="Ej: 175">
        </div>

        <button class="btn-calculate" (click)="calcularIMC()">Calcular mi Bienestar</button>
    </div>

    <div *ngIf="imc > 0" class="results-section">

        <div class="score-card">
            <h3>Tu IMC es: {{ imc | number:'1.1-1' }}</h3>
            <h2 [style.color]="colorEstado">{{ estado }}</h2>
            <p class="diet-tip">üí° {{ mensajeDieta }}</p>
        </div>

        <div class="suggestions" *ngIf="productosSugeridos.length > 0">
            <h3>Productos Recomendados para Ti</h3>
            <div class="product-grid">
                <div class="card" *ngFor="let p of productosSugeridos">
                    <div class="card-img">
                        <img [src]="p.urlImagen" [alt]="p.nombre" onerror="this.src='https://via.placeholder.com/150'">
                    </div>
                    <div class="card-body">
                        <h4>{{ p.nombre }}</h4>
                        <div class="row">
                            <span class="price">S/. {{ p.precio }}</span>
                            <button class="btn-add" [disabled]="p.stock === 0" (click)="agregarAlCarrito(p)">
                                +
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="productosSugeridos.length === 0" class="no-products">
            <p>Explora nuestro cat√°logo completo para ver m√°s opciones saludables.</p>
            <a routerLink="/catalogo" class="btn-link">Ir al Cat√°logo</a>
        </div>

    </div>

</div>